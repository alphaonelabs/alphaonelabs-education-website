{% extends "base.html" %}

{% block content %}
  <main class="w-full max-w-7xl mx-auto mt-6 px-4 md:px-6">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center">
      <span class="mr-2">üèÜ</span>Top Contributors
    </h1>
    <p class="text-gray-600 dark:text-gray-300 mb-6">
      Recognizing our most active contributors based on merged pull requests.
    </p>
    <div class="bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden">
      {% if contributors %}
        <table class="w-full text-left border-collapse">
          <thead>
            <tr class="bg-teal-600 text-white">
              <!-- Updated to match the green theme -->
              <th class="px-4 py-3">Rank</th>
              <th class="px-4 py-3">Contributor</th>
              <th class="px-4 py-3">Merged PRs</th>
            </tr>
          </thead>
          <tbody>
            {% for contributor in contributors %}
              <tr class="border-t border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 transition">
                <td class="px-4 py-3">
                  {% if forloop.counter == 1 %}
                    ü•á
                  {% elif forloop.counter == 2 %}
                    ü•à
                  {% elif forloop.counter == 3 %}
                    ü•â
                  {% else %}
                    {{ forloop.counter }}
                  {% endif %}
                </td>
                <td class="px-4 py-3 flex items-center space-x-3">
                  <img src="{{ contributor.avatar_url }}"
                       alt="{{ contributor.login }}"
                       class="h-10 w-10 rounded-full" />
                  <a href="{% url 'contributor_detail' contributor.login %}"
                     class="text-blue-600 hover:underline dark:text-blue-400">{{ contributor.login }}</a>
                </td>
                <td class="px-4 py-3">{{ contributor.merged_prs|default:"0" }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p class="text-center text-gray-600 dark:text-gray-300 py-6">No contributors found.</p>
      {% endif %}
    </div>
  </main>
{% endblock content %}
