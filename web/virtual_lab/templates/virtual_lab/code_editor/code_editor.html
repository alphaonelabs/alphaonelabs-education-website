{% extends 'virtual_lab/layout.html' %}

{% load static %}

{% block title %}Code Editor – Alpha Science Lab{% endblock %}
{% block extra_head %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.11.2/ace.js"></script>
  <style>
      #editor {
          height: 400px;
          width: 100%;
          border: 1px solid #ccc;
      }
  </style>
{% endblock %}
{% block virtual_lab_content %}
  <div class="max-w-4xl mx-auto py-8">
    <h1 class="text-2xl font-bold mb-4">Interactive Python Editor</h1>
    <div id="editor">print("Hello, world!")</div>
    <div class="mt-4">
      <label class="block mb-1">Custom Input:</label>
      <textarea id="stdin-input"
                rows="4"
                class="w-full border p-2 font-mono"
                placeholder="Enter input…"></textarea>
    </div>
    <div class="mt-3">
      <button id="run-btn" class="px-4 py-2 bg-blue-600 text-white rounded">Run Code</button>
    </div>
    <div class="mt-4">
      <h2 class="font-semibold mb-1">Output:</h2>
      <pre id="output" class="bg-gray-100 p-4 rounded whitespace-pre-wrap"></pre>
    </div>
  </div>
{% endblock %}
{% block extra_scripts %}
  <script>
      window.EVALUATE_CODE_URL = "{% url 'virtual_lab:evaluate_code' %}";
      console.log("▶️ Evaluate URL is:", window.EVALUATE_CODE_URL);
  </script>
  <script src="{% static 'virtual_lab/js/code_editor.js' %}"></script>
{% endblock %}
